<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IID Sovereign Ecosystem | INDIE-Founder</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap');
        body { background-color: #050505; color: #d1d5db; font-family: 'Space Mono', monospace; overflow-x: hidden; }
        .glass { background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.05); }
        .aura-glow { color: #10b981; text-shadow: 0 0 15px rgba(16, 185, 129, 0.4); }
        .btn-action { background: #10b981; color: #000; font-weight: 800; transition: all 0.3s; cursor: pointer; border-radius: 8px; }
        .btn-action:hover { background: #34d399; transform: scale(1.02); }
        .stat-card { padding: 20px; border-radius: 15px; border-top: 2px solid rgba(16,185,129,0.3); }
    </style>
</head>
<body class="min-h-screen p-4 md:p-10">

    <nav class="max-w-7xl mx-auto flex justify-between items-center mb-12 border-b border-white/5 pb-6">
        <div>
            <h1 class="text-xs tracking-[0.5em] font-bold opacity-50">IID PROTOCOL V1.9</h1>
            <p class="text-[10px] text-emerald-500 font-bold uppercase">Keys of Kindness Thread</p>
        </div>
        <div id="status-tag" class="text-[9px] px-3 py-1 rounded border border-red-500 text-red-500 uppercase font-bold">Offline</div>
    </nav>

    <main class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8">
        
        <div class="space-y-6">
            <section class="glass p-8 rounded-3xl border-l-4 border-emerald-500">
                <h2 class="text-[10px] opacity-40 uppercase tracking-widest mb-4">Master Identity</h2>
                <div class="text-4xl font-black aura-glow mb-2" id="aura-val">---</div>
                <p class="text-[10px] opacity-60 uppercase">Current Reputation Layer</p>
                
                <div class="mt-8 space-y-3">
                    <div class="flex justify-between text-[10px] border-b border-white/5 pb-1">
                        <span>STAKING APY</span><span class="text-blue-400 font-bold">HIGH (GENESIS)</span>
                    </div>
                    <div class="flex justify-between text-[10px] border-b border-white/5 pb-1">
                        <span>SWF ALLOCATION</span><span class="font-bold">80%</span>
                    </div>
                </div>
            </section>

            <section class="glass p-6 rounded-2xl">
                <h3 class="text-[10px] font-bold mb-4 opacity-40">KICK-OFF 2026 TIMER</h3>
                <div id="countdown" class="text-xl font-bold font-mono">01 Feb 2026</div>
            </section>
        </div>

        <div class="lg:col-span-2 space-y-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="glass stat-card">
                    <p class="text-[9px] opacity-40 mb-2">ENPE (E-COIN)</p>
                    <p id="enpe-val" class="text-2xl font-bold text-blue-400">0.0</p>
                    <p class="text-[8px] mt-2 opacity-30">SWF BACKED</p>
                </div>
                <div class="glass stat-card border-t-red-500/50">
                    <p class="text-[9px] opacity-40 mb-2">LOVELY COIN (LUV)</p>
                    <p id="luv-val" class="text-2xl font-bold text-red-500">0.0</p>
                    <p class="text-[8px] mt-2 opacity-30">DAILY REWARD: 1-10</p>
                </div>
                <div class="glass stat-card border-t-emerald-500/50">
                    <p class="text-[9px] opacity-40 mb-2">IND-EUR (STABLE)</p>
                    <p id="ind-val" class="text-2xl font-bold text-emerald-400">0</p>
                    <p class="text-[8px] mt-2 opacity-30">ANCHOR VALUE</p>
                </div>
            </div>

            <section class="glass p-8 rounded-3xl border border-emerald-500/20 shadow-2xl">
                <h2 class="text-xs font-black text-emerald-500 uppercase tracking-[0.3em] mb-8">Founder Authority Panel</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="space-y-4">
                        <label class="text-[10px] opacity-40 uppercase">Global Distribution (IND-EUR)</label>
                        <input type="number" id="input-amount" class="w-full bg-white/5 border border-white/10 p-3 rounded-lg outline-none focus:border-emerald-500 text-lg font-mono" placeholder="2.000.000.000">
                        <button onclick="executeTransfer()" class="btn-action w-full py-3 text-[10px]">EXECUTE GLOBAL TRANSFER</button>
                    </div>
                    
                    <div class="space-y-4 pt-4 md:pt-0">
                        <div class="flex gap-2">
                            <div class="w-full">
                                <label class="text-[10px] opacity-40 uppercase">Daily Koin (1-10)</label>
                                <input type="number" id="input-daily" class="w-full bg-white/5 border border-white/10 p-2 rounded outline-none" placeholder="10">
                            </div>
                            <button onclick="updateLuv()" class="btn-action mt-6 px-4 text-[9px]">SYNC</button>
                        </div>
                        <div class="p-4 bg-white/5 rounded-lg border border-white/5">
                            <p class="text-[9px] opacity-50 italic uppercase">Proof of Kindness: Photo Required (Max 1MB)</p>
                            <button class="mt-2 text-[8px] border border-white/20 px-2 py-1 opacity-30 cursor-not-allowed">Video Support (Server Pending)</button>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer class="mt-20 text-center opacity-20 text-[9px] uppercase tracking-[1em]">
        Humanism Protocol | INDIE-Founder Sovereign Identity
    </footer>

    <script>
        const SUPABASE_URL = 'https://wfnywtgctkbatnngkvmr.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indmbnl3dGdjdGtiYXRubmdrdm1yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk3MjE0MjcsImV4cCI6MjA4NTI5NzQyN30.ghQ1bveGBVzapZMdYvZoGnd3isOsGHLLcR3PsMJSVZI';
        
        const supabase = supabasejs.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        async function initSync() {
            const { data: p } = await supabase.from('iid_profiles').select('*').single();
            const { data: a } = await supabase.from('iid_assets').select('*').single();
            
            if(p) {
                document.getElementById('aura-val').innerText = p.aura_score;
                document.getElementById('status-tag').innerText = "Founder Verified";
                document.getElementById('status-tag').className = "text-[9px] px-3 py-1 rounded border border-emerald-500 text-emerald-500 uppercase font-bold animate-pulse";
            }
            if(a) {
                document.getElementById('enpe-val').innerText = a.enpe_balance;
                document.getElementById('luv-val').innerText = a.luv_balance;
                document.getElementById('ind-val').innerText = Number(a.ind_eur_balance).toLocaleString('de-DE');
            }
        }

        async function executeTransfer() {
            const amt = document.getElementById('input-amount').value;
            if(!amt) return;
            const { error } = await supabase.from('iid_assets').update({ ind_eur_balance: amt }).neq('enpe_balance', -1);
            if(!error) { alert("Sovereign Transfer Executed"); initSync(); }
        }

        async function updateLuv() {
            const val = document.getElementById('input-daily').value;
            const { error } = await supabase.from('iid_assets').update({ luv_balance: val }).neq('enpe_balance', -1);
            if(!error) { alert("LUV Sync Success"); initSync(); }
        }

        initSync();
        setInterval(initSync, 10000);
    </script>
</body>
</html>
